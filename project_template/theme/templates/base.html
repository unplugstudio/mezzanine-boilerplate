{% load pages_tags mezzanine_tags theme_tags staticfiles %}
{% load_theme as theme %}

<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="{% block meta_keywords %}{% endblock %}">
<meta name="description" content="{% block meta_description %}{% endblock %}">
<title>{% block meta_title %}{% endblock %}{% if settings.SITE_TITLE %} | {{ settings.SITE_TITLE }}{% endif %}</title>
<link rel="shortcut icon" href="{% static 'img/favicon.ico' %}">

{% ifinstalled mezzanine.blog %}
<link rel="alternate" type="application/rss+xml" title="RSS" href="{% url 'blog_post_feed' 'rss' %}">
<link rel="alternate" type="application/atom+xml" title="Atom" href="{% url 'blog_post_feed' 'atom' %}">
{% endifinstalled %}

{% compress css %}
<link rel="stylesheet" href="{% static 'build/main.css' %}">
{% block extra_css %}{% endblock %}
{% endcompress %}

{% block extra_head %}{% endblock %}
</head>

<body id="{% block body_id %}body{% endblock %}">

{# Messages #}
	{% nevercache %}
	{% if messages %}
	<div class="container messages">
	{% for message in messages %}
	<div class="alert alert-dismissable alert-{{ message.tags }}">
		<button type="button" class="close" aria-hidden="true">&times;</button>
		{{ message }}
	</div>
	{% endfor %}
	</div>
	{% endif %}
	{% endnevercache %}

{# Banner #}
	{% block banner %}{% endblock %}

{# Main #}
	{% block main %}{% endblock %}

{# Footer #}
	<footer id="footer">
		<div class="container">
			{{ theme.footer_content|richtext_filters|safe }}
		</div>
	</footer>

{# Scripts #}
	{% compress js %}
	<script src="{% static 'build/main.js' %}"></script>
	{% block extra_js %}{% endblock %}
	{% endcompress %}

	{% block extra_bottom %}{% endblock %}

	{% include "includes/footer_scripts.html" %}

</body>
</html>
