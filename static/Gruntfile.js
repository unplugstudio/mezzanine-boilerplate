module.exports = function(grunt) {

	grunt.initConfig({
		pkg: grunt.file.readJSON("package.json"),
		// SASS task
		sass: {
			dist: {
				options:{
					style: "nested",
					trace: true,
					loadPath: "bower_components/bootstrap-sass/assets/stylesheets"
					// sourcemap: true // Deprecated, sourcemaps generated by default
				},
				files: {
					"css/style.css": "sass/style.scss"
				}
			}
		},
		// Autoprefixer task
		autoprefixer: {
			dist:{
				options: {
					map: true // Create sourcemap
				},
				files:{
					"css/style.css": "css/style.css"
				}
			}
		},
		// Concatenation task
		concat: {
			dist: {
				// Declare all JS files that will be concatenated
				src: [
					"bower_components/jquery/dist/jquery.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/transition.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/alert.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/button.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/carousel.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/collapse.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/dropdown.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/modal.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/tooltip.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/popover.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/scrollspy.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/tab.js",
					"bower_components/bootstrap-sass/assets/javascripts/bootstrap/affix.js",
				],
				dest: "js/scripts.js"
			}
		},
		// Watch task
		watch: {
			css: {
				files: "sass/style.scss",
				tasks: ["sass", "autoprefixer"]
			}
		}
	});

	// Node dependencies
	grunt.loadNpmTasks("grunt-contrib-sass");
	grunt.loadNpmTasks("grunt-contrib-watch");
	grunt.loadNpmTasks("grunt-autoprefixer");
	grunt.loadNpmTasks("grunt-contrib-concat");

	// Run the "watch" task when invoking grunt without args
	grunt.registerTask("default", ["watch"]);
};
